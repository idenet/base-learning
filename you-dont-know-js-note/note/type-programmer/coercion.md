# 强制类型转换

## 值类型转换
强制类型转换发生在动态类型语言的运行时

## 抽象值操作
### toString
处理非字符串到字符串的强制类型转换

### toBoolean
- undefeated
- null
- false
- +0、-0和null
- ""
这些都是假值

## 显示强制类型转换
一元运算符可以将字符串转换为数字，页可以+日期转换成时间戳

#### 奇特的~运算符
```
~x = -(x+1)
```
~返回2的补码

### 显示解析非字符串
```
var b = "42px";
Number( b );    // NaN
parseInt( b );  // 42
```
解析允许字符串中含有非数字字符，解析按从左到右的顺序，如果遇到非数字字符就停止。而转换不允许出现非数字字符，否则会失败并返回 NaN。

## 隐式强制类型转换
一般来说通过+运算符来进行字符串连接，通过-运算符来进行字符串转换成数字的运算

### || 和 && 
&& 和 || 运算符的返回值并不一定是布尔类型，而是两个操作数其中一个的值。  
对于 || 来说，如果条件判断结果为 true 就返回第一个操作数(a 和 c)的值，如果为 false 就返回第二个操作数(b)的值。  
&& 则相反，如果条件判断结果为 true 就返回第二个操作数(b)的值，如果为 false 就返 回第一个操作数(a 和 c)的值。

## 宽松相等和严格相等
== 允许在相等比较中进行强制类型转换，而 === 不允许
1. 字符串和数字之间的相等比较
  - 如果 Type(x) 是数字，Type(y) 是字符串，则返回 x == ToNumber(y) 的结果。 
  - 如果 Type(x) 是字符串，Type(y) 是数字，则返回 ToNumber(x) == y 的结果。
2.其他类型和布尔类型的相等比较
  - 如果 Type(x) 是布尔类型，则返回 ToNumber(x) == y 的结果
  - 如果 Type(y) 是布尔类型，则返回 x == ToNumber(y) 的结果

### 安全运用隐式强制类型转换
• 如果两边的值中有 true 或者 false，千万不要使用 ==。
• 如果两边的值中有 []、"" 或者 0，尽量不要使用 ==。