# 闭包和作用域
## 什么是作用域
> 一套设计良好的规则来存储变量，以方便的寻找这些变量。这套规则被称为作用域
## 编译原理
传统语言在一段代码执行之前会经历三个步骤
- 分词／词法分析
- 解析／语法分析
- 代码生成  
和其他语言不同的是，通常js在编译之后就会马上执行。
## 理解作用域
- 引擎  
负责整个js程序的编译以及执行
- 编译器  
负责语法分析以及代码生成
- 作用域  
负责收集并维护由所有申明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限
## 对话
```
var a = 2;
```
引擎认为这句话有两个完全不同的声明，一个由编译器在编译时处理，另一个则由引擎在运行时处理。  
### 变量的赋值操作
首先编译器会在当前作用域声明一个变量（如果之前没有声明过），然后运行时引擎会在作用域中查找该变量，如果能够找到就对它赋值。
### 编译器的查询
- LHS：赋值操作的目标是谁（对变量进行赋值）
- RHS：谁是赋值操作的源头（获取变量的值）
### 作用域嵌套
简单来说如果当前作用域没有找到那个就会逐级往上查找，直到全局作用域，这时不管有没有找到都会停止。
